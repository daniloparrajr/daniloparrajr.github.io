---
import { getCollection } from "astro:content";

// import assets
import avatar100 from "../assets/images/avatar-100.png";
import avatar200 from "../assets/images/avatar-200.png";
import avatar300 from "../assets/images/avatar-300.png";

// component imports
import MainLayout from "@layouts/MainLayout.astro";
import PostList from "@components/PostList.astro";
import SocialMenu from "@components/SocialMenu.astro";

// utils imports
import { filterPosts } from "../js/utils";

const allPosts = await getCollection("blog");
const recentPosts = filterPosts(allPosts, {
  limit: 3,
});
---

<MainLayout>
  <section aria-label="New Blog Posts">
    <img
      class="block mb-5"
      src={avatar100.src}
      srcset={`${avatar100.src} 100w, ${avatar200.src} 200w, ${avatar300.src} 300w`}
      alt="Danilo's avatar"
      width={avatar100.width}
      height={avatar100.height}
    />

    <h1 class="text-3xl sm:text-4xl sm:leading-tight mb-5">
      Web developer, forever student, and a fitness enthusiast.
    </h1>

    <p class="mb-6">
      Hi, I'm Danilo! Welcome to my personal space in the internet, where I
      write my learning and thoughts about all things web development.
    </p>

    <SocialMenu classes="mb-16 sm:mb-20" />

    <section>
      <h2 class="mb-5 sm:mb-8 text-2xl">Recent Articles</h2>
      <PostList posts={recentPosts} />
    </section>
  </section>
</MainLayout>
